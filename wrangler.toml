name = "rec-time-be"
main = "src/index.ts"
compatibility_date = "2024-09-23"
compatibility_flags = ["nodejs_compat"]
account_id = "a6d1a427beffc5898641e90e99cdb49b"

# ----------------------------
# ğŸŒ ê³µí†µ í™˜ê²½ë³€ìˆ˜ (ëª¨ë“  í™˜ê²½ ê³µí†µ)
# ----------------------------
[vars]
NODE_ENV = "production"

# âš ï¸ ì‹œí¬ë¦¿ í‚¤(FIREBASE_SERVICE_ACCOUNT_KEY)ëŠ” ì—¬ê¸° ë„£ì§€ ì•ŠìŠµë‹ˆë‹¤.
# â†’ ë°˜ë“œì‹œ `wrangler secret put FIREBASE_SERVICE_ACCOUNT_KEY --name rec-time-be --env=""` ë¡œë§Œ ë“±ë¡í•˜ì„¸ìš”.

# ----------------------------
# ğŸ§© ê°œë°œ í™˜ê²½ ì„¤ì • (ë¡œì»¬ ê°œë°œìš©)
# ----------------------------
[env.development]
[env.development.vars]
NODE_ENV = "development"
PORT = "8787"
HOST = "0.0.0.0"

# ----------------------------
# ğŸ’¾ Cloudflare D1 Database ì—°ê²°
# ----------------------------
[[d1_databases]]
binding = "DB"                      
database_name = "rec-time-be"
database_id = "b93ec427-7cdb-4ad7-8944-ed807ba24b03"

# ----------------------------
# â° Cron Trigger ì„¤ì • (5ë¶„ë§ˆë‹¤ ì•Œë¦¼ ì²´í¬)
# ----------------------------
[[triggers]]
crons = ["*/5 * * * *"]

# ----------------------------
# ğŸš€ ë°°í¬ ê´€ë ¨ ì„¤ì •
# ----------------------------
[env.production]
# í™˜ê²½ ê²½ê³  ë°©ì§€ìš© (ê¸°ë³¸ê°’ì„ ëª…ì‹œ)
[env.production.vars]
NODE_ENV = "production"
